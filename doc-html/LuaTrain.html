<!DOCTYPE html><html lang="en"><head ><title >LuaTrain</title><meta charset="UTF-8"/><link rel="stylesheet" type="text/css" href="lua-doc.css"/></head><body ><div class="navigation-bar"><span class="navigation"><a href="index.html">Factorio</a> &raquo; <a href="Classes.html">Classes</a> &raquo; LuaTrain</span><span class="version">Factorio 0.14.21</span></div><h1 >LuaTrain</h1><div class="brief-listing"><div class="brief-listing" id="LuaTrain.brief">class <span class="type-name">LuaTrain</span><table class="brief-members"><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.get_item_count">get_item_count</a>(item) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></td><td class="description"> Get the amount of a particular item stored in the train.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.get_contents">get_contents</a>() &rarr; <span class="return-type"><span class="param-type">dictionary <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></span></td><td class="description"> Get a summary of the train&#x27;s inventory.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.remove_item">remove_item</a>(stack) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></td><td class="description"> Remove some items from the train.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.insert">insert</a>(stack)</span></td><td class="description"> Insert a stack into the train.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.clear_items_inside">clear_items_inside</a>()</span></td><td class="description"> Clear all items in this train.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.manual_mode">manual_mode</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  When <code >true</code>, the train is explicitly controlled by the player or script.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.speed">speed</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Current speed.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.carriages">carriages</a></span><span class="attribute-type"> :: <span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Rolling stocks the train is composed of.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.locomotives">locomotives</a></span><span class="attribute-type"> :: <span class="param-type">dictionary <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Arrays of locomotives.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.cargo_wagons">cargo_wagons</a></span><span class="attribute-type"> :: <span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  The cargo carriages the train contains.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.schedule">schedule</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Concepts.html#TrainSchedule">TrainSchedule</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.state">state</a></span><span class="attribute-type"> :: <span class="param-type"><a href="defines.html#defines.train_state">defines.train_state</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  This train&#x27;s current state.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.front_rail">front_rail</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  The rail at the front end of the train, possibly <code >nil</code>.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.back_rail">back_rail</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  The rail at the back end of the train, possibly <code >nil</code>.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.rail_direction_from_front_rail">rail_direction_from_front_rail</a></span><span class="attribute-type"> :: <span class="param-type"><a href="defines.html#defines.rail_direction">defines.rail_direction</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.rail_direction_from_back_rail">rail_direction_from_back_rail</a></span><span class="attribute-type"> :: <span class="param-type"><a href="defines.html#defines.rail_direction">defines.rail_direction</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.front_stock">front_stock</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  The front stock of this train or <code >nil</code>.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.back_stock">back_stock</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  The back stock of this train or <code >nil</code>.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaTrain.html#LuaTrain.station">station</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> The train stop this train is stopped at or <code >nil</code>.</td></tr><tr ><td class="header"><span class="element-name"><a href="Common.html#Common.valid">valid</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">
        Is this object valid?</td></tr></table></div></div><div class="element" id="LuaTrain"><p > A train. Trains are a sequence of connected rolling stocks -- locomotives and wagons.
</p><div class="element" id="LuaTrain.get_item_count"><div class="element-header"><span class="element-name">get_item_count(item) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></div><div class="element-content"><p > Get the amount of a particular item stored in the train.</p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">item</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> <span class="opt"> (optional)</span>:  Item name to count. If not given, counts all items.</div></div></div></div></div>
<div class="element" id="LuaTrain.get_contents"><div class="element-header"><span class="element-name">get_contents() &rarr; <span class="return-type"><span class="param-type">dictionary <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></span></div><div class="element-content"><p > Get a summary of the train&#x27;s inventory.</p><p > </p><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> The counts, indexed by item names.</div></div></div></div>
<div class="element" id="LuaTrain.remove_item"><div class="element-header"><span class="element-name">remove_item(stack) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></div><div class="element-content"><p > Remove some items from the train.</p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">stack</span> :: <span class="param-type"><a href="Concepts.html#SimpleItemStack">SimpleItemStack</a></span>:  The amount and type of items to remove</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> Number of items actually removed.</div></div></div></div>
<div class="element" id="LuaTrain.insert"><div class="element-header"><span class="element-name">insert(stack)</span></div><div class="element-content"><p > Insert a stack into the train.</p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">stack</span> :: <span class="param-type"><a href="Concepts.html#SimpleItemStack">SimpleItemStack</a></span></div></div></div></div></div>
<div class="element" id="LuaTrain.clear_items_inside"><div class="element-header"><span class="element-name">clear_items_inside()</span></div><div class="element-content"><p > Clear all items in this train.
</p></div></div><div class="element" id="LuaTrain.manual_mode"><div class="element-header"><span class="element-name">manual_mode</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > </p><p > When <code >true</code>, the train is explicitly controlled by the player or script. When <code >false</code>, the
 train moves autonomously according to its schedule.
</p></div></div>
<div class="element" id="LuaTrain.speed"><div class="element-header"><span class="element-name">speed</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > </p><p > Current speed.
 </p><div class="notes"><div class="note"><strong >Note: </strong> Changing the speed of the train is potentially an unsafe operation because train
       uses the speed for its internal calculations of break distances, etc.</div></div></div></div>
<div class="element" id="LuaTrain.carriages"><div class="element-header"><span class="element-name">carriages</span><span class="attribute-type"> :: <span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > Rolling stocks the train is composed of.
</p></div></div>
<div class="element" id="LuaTrain.locomotives"><div class="element-header"><span class="element-name">locomotives</span><span class="attribute-type"> :: <span class="param-type">dictionary <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > Arrays of locomotives. The result is two arrays, indexed by <code >"front_movers"</code> and <code >"back_movers"</code>
 containing the locomotives. E.g. <code >{front_movers={loco1, loco2}, back_movers={loco3}}</code>.
</p></div></div>
<div class="element" id="LuaTrain.cargo_wagons"><div class="element-header"><span class="element-name">cargo_wagons</span><span class="attribute-type"> :: <span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > The cargo carriages the train contains.
</p></div></div>
<div class="element" id="LuaTrain.schedule"><div class="element-header"><span class="element-name">schedule</span><span class="attribute-type"> :: <span class="param-type"><a href="Concepts.html#TrainSchedule">TrainSchedule</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > </p><p > </p><div class="notes"><div class="note"><strong >Note: </strong> The schedule can&#x27;t be changed by modifying the returned table. Instead, changes must
       be made by assigning a new table to this attribute.</div></div></div></div>
<div class="element" id="LuaTrain.state"><div class="element-header"><span class="element-name">state</span><span class="attribute-type"> :: <span class="param-type"><a href="defines.html#defines.train_state">defines.train_state</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > This train&#x27;s current state.
</p></div></div>
<div class="element" id="LuaTrain.front_rail"><div class="element-header"><span class="element-name">front_rail</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > The rail at the front end of the train, possibly <code >nil</code>.
</p></div></div>
<div class="element" id="LuaTrain.back_rail"><div class="element-header"><span class="element-name">back_rail</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > The rail at the back end of the train, possibly <code >nil</code>.
</p></div></div>
<div class="element" id="LuaTrain.rail_direction_from_front_rail"><div class="element-header"><span class="element-name">rail_direction_from_front_rail</span><span class="attribute-type"> :: <span class="param-type"><a href="defines.html#defines.rail_direction">defines.rail_direction</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaTrain.rail_direction_from_back_rail"><div class="element-header"><span class="element-name">rail_direction_from_back_rail</span><span class="attribute-type"> :: <span class="param-type"><a href="defines.html#defines.rail_direction">defines.rail_direction</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaTrain.front_stock"><div class="element-header"><span class="element-name">front_stock</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > The front stock of this train or <code >nil</code>.
</p></div></div>
<div class="element" id="LuaTrain.back_stock"><div class="element-header"><span class="element-name">back_stock</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > The back stock of this train or <code >nil</code>.
</p></div></div>
<div class="element" id="LuaTrain.station"><div class="element-header"><span class="element-name">station</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > The train stop this train is stopped at or <code >nil</code>.
 </p></div></div></div></body></html>
<!DOCTYPE html><html lang="en"><head ><title >LuaGameScript</title><meta charset="UTF-8"/><link rel="stylesheet" type="text/css" href="lua-doc.css"/></head><body ><div class="navigation-bar"><span class="navigation"><a href="index.html">Factorio</a> &raquo; <a href="Classes.html">Classes</a> &raquo; LuaGameScript</span><span class="version">Factorio 0.14.21</span></div><h1 >LuaGameScript</h1><div class="brief-listing"><div class="brief-listing" id="LuaGameScript.brief">class <span class="type-name">LuaGameScript</span><table class="brief-members"><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.get_event_handler">get_event_handler</a>(event)</span></td><td class="description"> 
 Find the event handler for an event.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.raise_event">raise_event</a>(event, table)</span></td><td class="description"> Raise an event.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.set_game_state">set_game_state</a>{game_finished=&hellip;, player_won=&hellip;, next_level=&hellip;, can_continue=&hellip;}</span></td><td class="description"> Set scenario state.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.get_entity_by_tag">get_entity_by_tag</a>(tag) &rarr; <span class="return-type"><span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></td><td class="description">  </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.show_message_dialog">show_message_dialog</a>{text=&hellip;, image=&hellip;, point_to=&hellip;}</span></td><td class="description"> Show an in-game message dialog.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.disable_tips_and_tricks">disable_tips_and_tricks</a>()</span></td><td class="description"> Disable showing tips and tricks.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.is_demo">is_demo</a>() &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></td><td class="description"> Is this the demo version of Factorio?</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.save">save</a>(name)</span></td><td class="description"> Save scenario progress.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.load">load</a>(name)</span></td><td class="description"> Load scenario progress.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.reload_script">reload_script</a>()</span></td><td class="description"> Forces a reload of the scenario script when the save game without the migration is loaded.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.save_atlas">save_atlas</a>()</span></td><td class="description"> Saves the current configuration of Atlas to a file.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.check_consistency">check_consistency</a>()</span></td><td class="description"> Run internal consistency checks.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.regenerate_entity">regenerate_entity</a>(entitites)</span></td><td class="description"> Regenerate autoplacement of some entities on all surfaces.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.take_screenshot">take_screenshot</a>{player=&hellip;, by_player=&hellip;, position=&hellip;, resolution=&hellip;, zoom=&hellip;, path=&hellip;, show_gui=&hellip;, show_entity_info=&hellip;, anti_alias=&hellip;}</span></td><td class="description"> Take a screenshot and save it to a file.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.write_file">write_file</a>(filename, data, append, for_player)</span></td><td class="description"> Write a string to a file.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.remove_path">remove_path</a>(path)</span></td><td class="description"> Remove file or directory.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.remove_offline_players">remove_offline_players</a>(players)</span></td><td class="description"> Remove players who are currently not connected from the map.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.force_crc">force_crc</a>()</span></td><td class="description"> Force a CRC check.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.create_force">create_force</a>(force) &rarr; <span class="return-type"><span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span></span></td><td class="description"> Create a new force.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.merge_forces">merge_forces</a>(source, destination)</span></td><td class="description"> Merge two forces together.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.create_surface">create_surface</a>(name, settings)</span></td><td class="description"> Create a new surface  </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.server_save">server_save</a>(name)</span></td><td class="description"> Instruct the server to save the map.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.delete_surface">delete_surface</a>(surface)</span></td><td class="description"> Deletes the given surface and all entities on it.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.disable_replay">disable_replay</a>()</span></td><td class="description"> Disables replay saving for the current save file.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.direction_to_string">direction_to_string</a>(direction)</span></td><td class="description"> Converts the given direction into the string version of the direction.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.print">print</a>(message)</span></td><td class="description"> Print text to the chat console all players.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.player">player</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaPlayer.html">LuaPlayer</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  The player typing at the console - <code >nil</code> in all other instances.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.players">players</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span> or <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span> &rarr; <span class="param-type"><a href="LuaPlayer.html">LuaPlayer</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.evolution_factor">evolution_factor</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Evolution factor of enemies.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.map_settings">map_settings</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Concepts.html#MapSettings">MapSettings</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.difficulty">difficulty</a></span><span class="attribute-type"> :: <span class="param-type"><a href="defines.html#defines.difficulty">defines.difficulty</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Current scenario difficulty.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.forces">forces</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.entity_prototypes">entity_prototypes</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaEntityPrototype.html">LuaEntityPrototype</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.item_prototypes">item_prototypes</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaItemPrototype.html">LuaItemPrototype</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.fluid_prototypes">fluid_prototypes</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaFluidPrototype.html">LuaFluidPrototype</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.tile_prototypes">tile_prototypes</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaTilePrototype.html">LuaTilePrototype</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.equipment_prototypes">equipment_prototypes</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaEquipmentPrototype.html">LuaEquipmentPrototype</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.damage_prototypes">damage_prototypes</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaDamagePrototype.html">LuaDamagePrototype</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.virtual_signal_prototypes">virtual_signal_prototypes</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaVirtualSignalPrototype.html">LuaVirtualSignalPrototype</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.equipment_grid_prototypes">equipment_grid_prototypes</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaEquipmentGridPrototype.html">LuaEquipmentGridPrototype</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.tick">tick</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Current map tick.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.finished">finished</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> Is the scenario finished?</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.speed">speed</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Speed to update the map at.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.surfaces">surfaces</a></span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaSurface.html">LuaSurface</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> </td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.active_mods">active_mods</a></span><span class="attribute-type"> :: <span class="param-type">dictionary <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> The active mods versions.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaGameScript.html#LuaGameScript.connected_players">connected_players</a></span><span class="attribute-type"> :: <span class="param-type">array of <span class="param-type"><a href="LuaPlayer.html">LuaPlayer</a></span></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> The online players
   This is primarally useful when you want to do some action against all online players.</td></tr></table></div></div><div class="element" id="LuaGameScript"><p > Main toplevel type, provides access to most of the API though its members. An instance
 of LuaGameScript is available as the global object named <code >game</code>.
</p><div class="element" id="LuaGameScript.get_event_handler"><div class="element-header"><span class="element-name">get_event_handler(event)</span></div><div class="element-content"><p > </p><p >
 Find the event handler for an event.</p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">event</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:  The event identifier to get a handler for</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> Reference to the function currently registered as the handler.</div></div></div></div>
<div class="element" id="LuaGameScript.raise_event"><div class="element-header"><span class="element-name">raise_event(event, table)</span></div><div class="element-content"><p > Raise an event.
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">event</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:  ID of the event to raise</div><div ><span class="param-name">table</span>:  Table with extra data. This table will be passed to the event handler.</div></div></div></div></div>
<div class="element" id="LuaGameScript.set_game_state"><div class="element-header"><span class="element-name">set_game_state{game_finished=&hellip;, player_won=&hellip;, next_level=&hellip;, can_continue=&hellip;}</span></div><div class="element-content"><p > Set scenario state.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">game_finished</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></li><li ><span class="param-name">player_won</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></li><li ><span class="param-name">next_level</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></li><li ><span class="param-name">can_continue</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></li></ul></div></div></div></div></div>
<div class="element" id="LuaGameScript.get_entity_by_tag"><div class="element-header"><span class="element-name">get_entity_by_tag(tag) &rarr; <span class="return-type"><span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></div><div class="element-content"><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">tag</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></div></div></div></div></div>
<div class="element" id="LuaGameScript.show_message_dialog"><div class="element-header"><span class="element-name">show_message_dialog{text=&hellip;, image=&hellip;, point_to=&hellip;}</span></div><div class="element-content"><p > Show an in-game message dialog.
 </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">text</span> :: <span class="param-type"><a href="Concepts.html#LocalisedString">LocalisedString</a></span>:  What the dialog should say</li><li ><span class="param-name">image</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> <span class="opt"> (optional)</span>:  Path to an image to show on the dialog</li><li ><span class="param-name">point_to</span> :: <span class="param-type"><a href="Concepts.html#GuiArrowSpecification">GuiArrowSpecification</a></span> <span class="opt"> (optional)</span>: 
     If specified, dialog will show an arrow pointing to this place. When not specified, the arrow will point to the player&#x27;s position.
     (Use <code >point_to={type="nowhere"}</code> to remove the arrow entirely.) The dialog itself will be placed near the arrow&#x27;s target.</li></ul></div></div></div><div class="notes"><div class="note"><strong >Note: </strong> Can only be used when the map contains exactly one player.</div></div></div></div>
<div class="element" id="LuaGameScript.disable_tips_and_tricks"><div class="element-header"><span class="element-name">disable_tips_and_tricks()</span></div><div class="element-content"><p > Disable showing tips and tricks.
</p></div></div>
<div class="element" id="LuaGameScript.is_demo"><div class="element-header"><span class="element-name">is_demo() &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></div><div class="element-content"><p > Is this the demo version of Factorio?
 </p></div></div>
<div class="element" id="LuaGameScript.save"><div class="element-header"><span class="element-name">save(name)</span></div><div class="element-content"><p > Save scenario progress.
 </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Save name</div></div></div><div class="notes"><div class="note"><strong >Note: </strong> This doesn&#x27;t save the map, like the &quot;Save&quot; menu button would. This is to implement restarts functionality
       like in e.g. Tight Spot.</div></div></div></div>
<div class="element" id="LuaGameScript.load"><div class="element-header"><span class="element-name">load(name)</span></div><div class="element-content"><p > Load scenario progress.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Name previously saved by <a href="LuaGameScript.html#LuaGameScript.save">LuaGameScript::save</a>.</div></div></div></div></div>
<div class="element" id="LuaGameScript.reload_script"><div class="element-header"><span class="element-name">reload_script()</span></div><div class="element-content"><p > Forces a reload of the scenario script when the save game without the migration is loaded.
 </p><div class="notes"><div class="note"><strong >Note: </strong> Useable only in migration scripts.</div></div></div></div>
<div class="element" id="LuaGameScript.save_atlas"><div class="element-header"><span class="element-name">save_atlas()</span></div><div class="element-content"><p > Saves the current configuration of Atlas to a file. This will result in huge file containing all
 of the game graphics moved to as small space as possible.</p><p > </p><div class="notes"><div class="note"><strong >Note: </strong> Exists mainly for debugging reasons.</div></div></div></div>
<div class="element" id="LuaGameScript.check_consistency"><div class="element-header"><span class="element-name">check_consistency()</span></div><div class="element-content"><p > Run internal consistency checks. Allegedly prints any errors it finds.</p><p > </p><div class="notes"><div class="note"><strong >Note: </strong> Exists mainly for debugging reasons.</div></div></div></div>
<div class="element" id="LuaGameScript.regenerate_entity"><div class="element-header"><span class="element-name">regenerate_entity(entitites)</span></div><div class="element-content"><p > Regenerate autoplacement of some entities on all surfaces. This can be used to autoplace newly-added entities.</p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">entitites</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type">array of <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span></span>: 
   Prototype names of entity or entities to autoplace.</div></div></div><div class="notes"><div class="note"><strong >Note: </strong> All specified entity prototypes must be autoplacable.</div></div></div></div>
<div class="element" id="LuaGameScript.take_screenshot"><div class="element-header"><span class="element-name">take_screenshot{player=&hellip;, by_player=&hellip;, position=&hellip;, resolution=&hellip;, zoom=&hellip;, path=&hellip;, show_gui=&hellip;, show_entity_info=&hellip;, anti_alias=&hellip;}</span></div><div class="element-content"><p > Take a screenshot and save it to a file.</p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">player</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaPlayer.html">LuaPlayer</a></span> or <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span> <span class="opt"> (optional)</span></li><li ><span class="param-name">by_player</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaPlayer.html">LuaPlayer</a></span> or <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span> <span class="opt"> (optional)</span>:  If defined, the screenshot will only be taken for this player.</li><li ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span> <span class="opt"> (optional)</span></li><li ><span class="param-name">resolution</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span> <span class="opt"> (optional)</span>:  Maximum allowed resolution is 16384x16384 (resp. 8196x8196 when anti_alias is true), but maximum recommended resolution is 4096x4096 (resp. 2048x2048).</li><li ><span class="param-name">zoom</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span> <span class="opt"> (optional)</span></li><li ><span class="param-name">path</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> <span class="opt"> (optional)</span>:  Path to save the screenshot in</li><li ><span class="param-name">show_gui</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span> <span class="opt"> (optional)</span>:  Include game GUI in the screenshot?</li><li ><span class="param-name">show_entity_info</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span> <span class="opt"> (optional)</span>:  Include entity info (alt-mode)?</li><li ><span class="param-name">anti_alias</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span> <span class="opt"> (optional)</span>:  Render in double resolution and scale down (including GUI)?</li></ul></div></div></div><div class="notes"><div class="note"><strong >Note: </strong> If Factorio is running headless, this function will do nothing.</div></div></div></div>
<div class="element" id="LuaGameScript.write_file"><div class="element-header"><span class="element-name">write_file(filename, data, append, for_player)</span></div><div class="element-content"><p > Write a string to a file.</p><p > </p><p > </p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">filename</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Path to the file to write to</div><div ><span class="param-name">data</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  File content</div><div ><span class="param-name">append</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span> <span class="opt"> (optional)</span>:  When <code >true</code>, this will append to the end of the file. Defaults to <code >false</code>,</div><div ><span class="param-name">for_player</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span> <span class="opt"> (optional)</span>:  If given, the file will only be written for this player_index. 0 means only the server if one exists.
   which will overwrite any pre-existing file with the new data.</div></div></div></div></div>
<div class="element" id="LuaGameScript.remove_path"><div class="element-header"><span class="element-name">remove_path(path)</span></div><div class="element-content"><p > Remove file or directory. Given path is taken relative to the script output directory. Can be used
 to remove files created by <a href="LuaGameScript.html#LuaGameScript.write_file">LuaGameScript::write_file</a>.</p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">path</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Path to remove, relative to the script output directory</div></div></div></div></div>
<div class="element" id="LuaGameScript.remove_offline_players"><div class="element-header"><span class="element-name">remove_offline_players(players)</span></div><div class="element-content"><p > Remove players who are currently not connected from the map.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">players</span> :: <span class="param-type">array of <span class="param-type"><span class="param-type"><a href="LuaPlayer.html">LuaPlayer</a></span> or <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span></span> <span class="opt"> (optional)</span>:  List of players to remove. If not specified,
   remove all offline players.</div></div></div></div></div>
<div class="element" id="LuaGameScript.force_crc"><div class="element-header"><span class="element-name">force_crc()</span></div><div class="element-content"><p > Force a CRC check. Tells all peers to calculate their current map CRC; these CRC are then compared
 against each other. If a mismatch is detected, the game is desynced and some peers are forced to
 reconnect.
</p></div></div>
<div class="element" id="LuaGameScript.create_force"><div class="element-header"><span class="element-name">create_force(force) &rarr; <span class="return-type"><span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span></span></div><div class="element-content"><p > Create a new force.</p><p > </p><p > </p><p >
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">force</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Name of the new force</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> The force that was just created</div></div><div class="notes"><div class="note"><strong >Note: </strong> The game currently supports a maximum of 64 forces, including the three built-in forces.
       This means that a maximum of 61 new forces may be created.</div><div class="note"><strong >Note: </strong> Force names must be unique.</div></div></div></div>
<div class="element" id="LuaGameScript.merge_forces"><div class="element-header"><span class="element-name">merge_forces(source, destination)</span></div><div class="element-content"><p > Merge two forces together. All entities in the source force will be reassigned to the target force.
 The source force will then be destroyed.</p><p > </p><p >
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">source</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  The force to remove</div><div ><span class="param-name">destination</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  The force to reassign all entities to</div></div></div><div class="notes"><div class="note"><strong >Note: </strong> The three built-in forces -- player, enemy and neutral -- can&#x27;t be destroyed. I.e. they can&#x27;t
       be used as the source argument to this function.</div></div></div></div>
<div class="element" id="LuaGameScript.create_surface"><div class="element-header"><span class="element-name">create_surface(name, settings)</span></div><div class="element-content"><p > Create a new surface</p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Name of the new surface</div><div ><span class="param-name">settings</span> :: <span class="param-type"><a href="Concepts.html#MapGenSettings">MapGenSettings</a></span> <span class="opt"> (optional)</span>:  Map generation settings</div></div></div></div></div>
<div class="element" id="LuaGameScript.server_save"><div class="element-header"><span class="element-name">server_save(name)</span></div><div class="element-content"><p > Instruct the server to save the map.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> <span class="opt"> (optional)</span>:  Save name. If not specified, writes into the currently-running save.</div></div></div></div></div>
<div class="element" id="LuaGameScript.delete_surface"><div class="element-header"><span class="element-name">delete_surface(surface)</span></div><div class="element-content"><p > Deletes the given surface and all entities on it.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">surface</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaSurface.html">LuaSurface</a></span></span>:  The surface to be deleted. Currently the primary surface (0, &#x27;nauvis&#x27;) cannot be deleted.</div></div></div></div></div>
<div class="element" id="LuaGameScript.disable_replay"><div class="element-header"><span class="element-name">disable_replay()</span></div><div class="element-content"><p > Disables replay saving for the current save file. Once done there&#x27;s no way to re-enable replay saving for the save file without loading an old save.
</p></div></div>
<div class="element" id="LuaGameScript.direction_to_string"><div class="element-header"><span class="element-name">direction_to_string(direction)</span></div><div class="element-content"><p > Converts the given direction into the string version of the direction.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">direction</span> :: <span class="param-type"><a href="defines.html#defines.direction">defines.direction</a></span></div></div></div></div></div>
<div class="element" id="LuaGameScript.print"><div class="element-header"><span class="element-name">print(message)</span></div><div class="element-content"><p > Print text to the chat console all players.</p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">message</span> :: <span class="param-type"><a href="Concepts.html#LocalisedString">LocalisedString</a></span></div></div></div></div></div><div class="element" id="LuaGameScript.player"><div class="element-header"><span class="element-name">player</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaPlayer.html">LuaPlayer</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > The player typing at the console - <code >nil</code> in all other instances. See <a href="LuaGameScript.html#LuaGameScript.players">LuaGameScript::players</a> for accessing all players.
</p></div></div>
<div class="element" id="LuaGameScript.players"><div class="element-header"><span class="element-name">players</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span> or <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span> &rarr; <span class="param-type"><a href="LuaPlayer.html">LuaPlayer</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > </p><div class="notes"><div class="note"><strong >Note: </strong> This is a sparse table so pairs(), a known player index, or player name should be used to access elements.</div></div></div></div>
<div class="element" id="LuaGameScript.evolution_factor"><div class="element-header"><span class="element-name">evolution_factor</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > </p><p > Evolution factor of enemies.
</p></div></div>
<div class="element" id="LuaGameScript.map_settings"><div class="element-header"><span class="element-name">map_settings</span><span class="attribute-type"> :: <span class="param-type"><a href="Concepts.html#MapSettings">MapSettings</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.difficulty"><div class="element-header"><span class="element-name">difficulty</span><span class="attribute-type"> :: <span class="param-type"><a href="defines.html#defines.difficulty">defines.difficulty</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > Current scenario difficulty.
</p></div></div>
<div class="element" id="LuaGameScript.forces"><div class="element-header"><span class="element-name">forces</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.entity_prototypes"><div class="element-header"><span class="element-name">entity_prototypes</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaEntityPrototype.html">LuaEntityPrototype</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.item_prototypes"><div class="element-header"><span class="element-name">item_prototypes</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaItemPrototype.html">LuaItemPrototype</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.fluid_prototypes"><div class="element-header"><span class="element-name">fluid_prototypes</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaFluidPrototype.html">LuaFluidPrototype</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.tile_prototypes"><div class="element-header"><span class="element-name">tile_prototypes</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaTilePrototype.html">LuaTilePrototype</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.equipment_prototypes"><div class="element-header"><span class="element-name">equipment_prototypes</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaEquipmentPrototype.html">LuaEquipmentPrototype</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.damage_prototypes"><div class="element-header"><span class="element-name">damage_prototypes</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaDamagePrototype.html">LuaDamagePrototype</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.virtual_signal_prototypes"><div class="element-header"><span class="element-name">virtual_signal_prototypes</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaVirtualSignalPrototype.html">LuaVirtualSignalPrototype</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.equipment_grid_prototypes"><div class="element-header"><span class="element-name">equipment_grid_prototypes</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaEquipmentGridPrototype.html">LuaEquipmentGridPrototype</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.tick"><div class="element-header"><span class="element-name">tick</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > Current map tick.
</p></div></div>
<div class="element" id="LuaGameScript.finished"><div class="element-header"><span class="element-name">finished</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > Is the scenario finished?
 </p></div></div>
<div class="element" id="LuaGameScript.speed"><div class="element-header"><span class="element-name">speed</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > </p><p > Speed to update the map at. 1.0 is normal speed -- 60 UPS.
 </p><div class="notes"><div class="note"><strong >Note: </strong> Minimum value is 0.1.</div></div></div></div>
<div class="element" id="LuaGameScript.surfaces"><div class="element-header"><span class="element-name">surfaces</span><span class="attribute-type"> :: <span class="param-type"><a href="LuaCustomTable.html">custom dictionary</a> <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="LuaSurface.html">LuaSurface</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p></div></div>
<div class="element" id="LuaGameScript.active_mods"><div class="element-header"><span class="element-name">active_mods</span><span class="attribute-type"> :: <span class="param-type">dictionary <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> &rarr; <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > The active mods versions. The keys are mod names, the values are the versions.
 </p><p >
 </p><div class="example"><div class="example-header">Example</div>
   This will print the names and versions of active mods to player p&#x27;s console.
   <div class="block-code-container"><code class="block">   for&nbsp;name,&nbsp;version&nbsp;in&nbsp;pairs(game.active_mods)&nbsp;do<br/>
   &nbsp;&nbsp;p.print(name&nbsp;..&nbsp;"&nbsp;version&nbsp;"&nbsp;..&nbsp;version)<br/>
   end</code></div>
 </div></div></div>
<div class="element" id="LuaGameScript.connected_players"><div class="element-header"><span class="element-name">connected_players</span><span class="attribute-type"> :: <span class="param-type">array of <span class="param-type"><a href="LuaPlayer.html">LuaPlayer</a></span></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > The online players
 </p><p > </p><p > This is primarally useful when you want to do some action against all online players.
</p><div class="notes"><div class="note"><strong >Note: </strong> This does *not* index using player index. See <a href="LuaPlayer.html#LuaPlayer.index">LuaPlayer::index</a> on each player instance for the player index.</div></div></div></div></div></body></html>
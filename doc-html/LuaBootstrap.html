<!DOCTYPE html><html lang="en"><head ><title >LuaBootstrap</title><meta charset="UTF-8"/><link rel="stylesheet" type="text/css" href="lua-doc.css"/></head><body ><div class="navigation-bar"><span class="navigation"><a href="index.html">Factorio</a> &raquo; <a href="Classes.html">Classes</a> &raquo; LuaBootstrap</span><span class="version">Factorio 0.14.21</span></div><h1 >LuaBootstrap</h1><div class="brief-listing"><div class="brief-listing" id="LuaBootstrap.brief">class <span class="type-name">LuaBootstrap</span><table class="brief-members"><tr ><td class="header"><span class="element-name"><a href="LuaBootstrap.html#LuaBootstrap.on_init">on_init</a>(f)</span></td><td class="description"> Register a callback to be run on mod init.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaBootstrap.html#LuaBootstrap.on_load">on_load</a>(f)</span></td><td class="description"> Register a function to be run on module load.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaBootstrap.html#LuaBootstrap.on_configuration_changed">on_configuration_changed</a>(f)</span></td><td class="description"> Register a function to be run when mod configuration changes.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaBootstrap.html#LuaBootstrap.on_event">on_event</a>(event, f)</span></td><td class="description"> Register a handler to run on event or events.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaBootstrap.html#LuaBootstrap.generate_event_name">generate_event_name</a>() &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></td><td class="description"> Generate a new, unique event ID.</td></tr></table></div></div><div class="element" id="LuaBootstrap"><p > Entry point for registering event handlers. It is accessible through the global object named <code >script</code>.
</p><div class="element" id="LuaBootstrap.on_init"><div class="element-header"><span class="element-name">on_init(f)</span></div><div class="element-content"><p > Register a callback to be run on mod init.
 This is called once when a new save game is created or once when a save file is loaded that previously didn&#x27;t contain the mod.
 This is always called before other event handlers and is meant for setting up initial values that a mod will use for its lifetime.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">f</span> :: <span class="param-type">function()</span>:  The function to call. Passing nil will
   unregister the handler.</div></div></div></div></div>
<div class="element" id="LuaBootstrap.on_load"><div class="element-header"><span class="element-name">on_load(f)</span></div><div class="element-content"><p > Register a function to be run on module load.
 This is called every time a save file is loaded *except* for the instance when a mod is loaded into a save file that it previously wasn&#x27;t part of.
 Additionally this is called when connecting to any other game in a multiplayer session and should never change the game state.</p><p > This is meant for 3 specific reasons and only 3:
 </p><ul ><li > re-register conditional event handlers</li><li > re-setup meta tables</li><li > create local references to tables stored in the global table</li></ul><p > In all other instances the <a href="LuaBootstrap.html#LuaBootstrap.on_init">LuaBootstrap::on_init</a>, <a href="LuaBootstrap.html#LuaBootstrap.on_configuration_changed">LuaBootstrap::on_configuration_changed</a> or migration scripts should be used.
 Doing any other logic when loading a save file can break the replay and cause desync issues if the mod is used in multiplayer.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">f</span> :: <span class="param-type">function()</span>:  The function to call. Passing <code >nil</code> will unregister the handler.</div></div></div></div></div>
<div class="element" id="LuaBootstrap.on_configuration_changed"><div class="element-header"><span class="element-name">on_configuration_changed(f)</span></div><div class="element-content"><p > Register a function to be run when mod configuration changes.
 This is called any time the game version changes and any time mod versions change including adding or removing mods.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">f</span> :: <span class="param-type">function(<span class="param-type"><a href="Concepts.html#ConfigurationChangedData">ConfigurationChangedData</a></span>)</span>: 
   The handler for this event. Passing <code >nil</code> will unregister the handler.</div></div></div></div></div>
<div class="element" id="LuaBootstrap.on_event"><div class="element-header"><span class="element-name">on_event(event, f)</span></div><div class="element-content"><p > Register a handler to run on event or events.
 </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">event</span> :: <span class="param-type"><span class="param-type"><a href="defines.html#defines.events">defines.events</a></span> or <span class="param-type">array of <span class="param-type"><a href="defines.html#defines.events">defines.events</a></span></span> or <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span>:  The events or custom-input name to invoke the handler on</div><div ><span class="param-name">f</span> :: <span class="param-type">function(<span class="param-type">Event</span>)</span>:  The handler to run. Passing nil will unregister the handler. The handler
   will receive a table that contains the key <code >name</code> (of type <a href="defines.html#defines.events">defines.events</a>) specifying the name
   of the event it was called to handle, and <code >tick</code> that specifies when the event was created. This table will
   also contain other fields, depending on the type of the event. See
   <a href="events.html"> the list of Factorio events</a> for a listing of these additional fields.</div></div></div></div></div>
<div class="element" id="LuaBootstrap.generate_event_name"><div class="element-header"><span class="element-name">generate_event_name() &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></div><div class="element-content"><p > Generate a new, unique event ID.
</p><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> The new ID</div></div></div></div></div></body></html>
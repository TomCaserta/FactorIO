<!DOCTYPE html><html lang="en"><head ><title >LuaSurface</title><meta charset="UTF-8"/><link rel="stylesheet" type="text/css" href="lua-doc.css"/></head><body ><div class="navigation-bar"><span class="navigation"><a href="index.html">Factorio</a> &raquo; <a href="Classes.html">Classes</a> &raquo; LuaSurface</span><span class="version">Factorio 0.14.21</span></div><h1 >LuaSurface</h1><div class="brief-listing"><div class="brief-listing" id="LuaSurface.brief">class <span class="type-name">LuaSurface</span><table class="brief-members"><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.get_pollution">get_pollution</a>(position) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#double">double</a></span></span></span></td><td class="description"> Get the pollution for a given position.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.can_place_entity">can_place_entity</a>{name=&hellip;, position=&hellip;, direction=&hellip;, force=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></td><td class="description"> Check for collisions with terrain or other entities.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.find_entity">find_entity</a>(entity, position) &rarr; <span class="return-type"><span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></td><td class="description"> Find a specific entity at a specific position.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.find_entities">find_entities</a>(area) &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></span></td><td class="description"> Find entities in a given area.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.find_entities_filtered">find_entities_filtered</a>{area=&hellip;, position=&hellip;, name=&hellip;, type=&hellip;, force=&hellip;, limit=&hellip;} &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></span></td><td class="description"> Find entities of given type or name in a given area.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.count_entities_filtered">count_entities_filtered</a>{area=&hellip;, position=&hellip;, name=&hellip;, type=&hellip;, force=&hellip;, limit=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></td><td class="description"> Count entities of given type or name in a given area.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.find_non_colliding_position">find_non_colliding_position</a>(name, center, radius, precision) &rarr; <span class="return-type"><span class="param-type"><a href="Concepts.html#Position">Position</a></span></span></span></td><td class="description"> Find a non-colliding possition within a given rectangle.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.spill_item_stack">spill_item_stack</a>(position, items, enable_looted)</span></td><td class="description"> Spill items on the ground centered at a given location.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.find_enemy_units">find_enemy_units</a>(center, radius, force) &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></span></td><td class="description"> Find units enemy of a given force within an area.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.find_nearest_enemy">find_nearest_enemy</a>{position=&hellip;, max_distance=&hellip;, force=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></td><td class="description"> Find the enemy closest to the given position.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.set_multi_command">set_multi_command</a>{command=&hellip;, unit_count=&hellip;, force=&hellip;, unit_search_distance=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></td><td class="description"> Give a command to multiple units.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.create_entity">create_entity</a>{name=&hellip;, position=&hellip;, direction=&hellip;, force=&hellip;, target=&hellip;, source=&hellip;, fast_replace=&hellip;, player=&hellip;, spill=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></td><td class="description"> Create an entity on this surface.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.create_unit_group">create_unit_group</a>{position=&hellip;, force=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="LuaUnitGroup.html">LuaUnitGroup</a></span></span></span></td><td class="description"> Create a new unit group at a given position.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.build_enemy_base">build_enemy_base</a>(position, unit_count, force)</span></td><td class="description"> Send a group to build a new base.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.get_tile">get_tile</a>(x, y) &rarr; <span class="return-type"><span class="param-type"><a href="LuaTile.html">LuaTile</a></span></span></span></td><td class="description"> Get the tile at a given position.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.get_tileproperties">get_tileproperties</a>(x, y) &rarr; <span class="return-type"><span class="param-type"><a href="Concepts.html#TileProperties">TileProperties</a></span></span></span></td><td class="description"> Get tile properties.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.set_tiles">set_tiles</a>(tiles, correct_tiles)</span></td><td class="description"> Set tiles at specified locations.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.pollute">pollute</a>(source, amount)</span></td><td class="description"> Spawn pollution at the given position.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.get_chunks">get_chunks</a>() &rarr; <span class="return-type"><span class="param-type"><a href="LuaChunkIterator.html">LuaChunkIterator</a></span></span></span></td><td class="description"> Get an iterator going over every chunk on this surface.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.is_chunk_generated">is_chunk_generated</a>(position) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></td><td class="description"> Is a given chunk generated?</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.request_to_generate_chunks">request_to_generate_chunks</a>(position, radius)</span></td><td class="description"> Request that the game&#x27;s map generator generate chunks at the given position
 for the given radius on this surface.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.set_chunk_generated_status">set_chunk_generated_status</a>(position, status)</span></td><td class="description"> Set generated status of a chunk.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.find_logistic_network_by_position">find_logistic_network_by_position</a>(position, force) &rarr; <span class="return-type"><span class="param-type"><a href="LuaLogisticNetwork.html">LuaLogisticNetwork</a></span></span></span></td><td class="description"> Find the logistic network that covers a given position.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.freeze_daytime">freeze_daytime</a>(freeze)</span></td><td class="description"> Freeze or unfreeze time of day at the current value.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.deconstruct_area">deconstruct_area</a>{area=&hellip;, force=&hellip;}</span></td><td class="description"> Place a deconstruction request.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.cancel_deconstruct_area">cancel_deconstruct_area</a>{area=&hellip;, force=&hellip;}</span></td><td class="description"> Cancel a deconstruction order.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.get_hidden_tile">get_hidden_tile</a>(position)</span></td><td class="description">   The hidden tile name or <code >nil</code> if there isn&#x27;t one for the given position.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.get_connected_tiles">get_connected_tiles</a>(position, tiles) &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type"><a href="Concepts.html#Position">Position</a></span></span></span></span></td><td class="description"> Gets all tiles of the given types that are connected horizontally or vertically to the given tile position including the given tile position.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.regenerate_entity">regenerate_entity</a>(entitites)</span></td><td class="description"> Regenerate autoplacement of some entities on this surface.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.print">print</a>(message)</span></td><td class="description"> Print text to the chat console of all players on this surface.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.name">name</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  The name of this surface.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.index">index</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Unique ID associated with this surface.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.map_gen_settings">map_gen_settings</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Concepts.html#MapGenSettings">MapGenSettings</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description"> Gets the generation settings for the surface.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.always_day">always_day</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description"> When set to true, the sun will always shine.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.daytime">daytime</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Current time of day, as a number in range [0, 1).</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.darkness">darkness</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">  Amount of darkness at the current time.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.wind_speed">wind_speed</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Current wind speed.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.wind_orientation">wind_orientation</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Current wind direction.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.wind_orientation_change">wind_orientation_change</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Change in wind orientation per tick.</td></tr><tr ><td class="header"><span class="element-name"><a href="LuaSurface.html#LuaSurface.peaceful_mode">peaceful_mode</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [RW]</span></td><td class="description">  Is peaceful mode enabled on this surface?</td></tr><tr ><td class="header"><span class="element-name"><a href="Common.html#Common.valid">valid</a></span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [R]</span></td><td class="description">
        Is this object valid?</td></tr></table></div></div><div class="element" id="LuaSurface"><p > A &quot;domain&quot; of the world. Surfaces can only be created through the API and can not be
 deleted. However, it is planned to allow deletion of a surface in the future. Surfaces
 are uniquely identified by their name. Every game contains at least the surface &quot;nauvis&quot;.
</p><div class="element" id="LuaSurface.get_pollution"><div class="element-header"><span class="element-name">get_pollution(position) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#double">double</a></span></span></span></div><div class="element-content"><p > Get the pollution for a given position.</p><p > </p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span></div></div></div><div class="example"><div class="example-header">Example</div>
   <div class="block-code-container"><code class="block">game.surfaces[1].get_pollution({1,2})</code></div>
 </div></div></div>
<div class="element" id="LuaSurface.can_place_entity"><div class="element-header"><span class="element-name">can_place_entity{name=&hellip;, position=&hellip;, direction=&hellip;, force=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></div><div class="element-content"><p > Check for collisions with terrain or other entities.</p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Name of the entity to check</li><li ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Where the entity would be placed</li><li ><span class="param-name">direction</span> :: <span class="param-type"><a href="defines.html#defines.direction">defines.direction</a></span> <span class="opt"> (optional)</span>:  Direction the entity would be placed</li><li ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span> <span class="opt"> (optional)</span>:  The force that would place the entity.
     If not specified, the enemy force is assumed.</li></ul></div></div></div></div></div>
<div class="element" id="LuaSurface.find_entity"><div class="element-header"><span class="element-name">find_entity(entity, position) &rarr; <span class="return-type"><span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></div><div class="element-content"><p > Find a specific entity at a specific position.</p><p > </p><p > </p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">entity</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Entity to look for</div><div ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Coordinates to look at</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> Will be <code >nil</code> if no such entity is found.</div></div><div class="example"><div class="example-header">Example</div>
   <div class="block-code-container"><code class="block">game.player.selected.surface.find_entity('filter-inserter',{0,0})</code></div>
 </div></div></div>
<div class="element" id="LuaSurface.find_entities"><div class="element-header"><span class="element-name">find_entities(area) &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></span></div><div class="element-content"><p > Find entities in a given area.</p><p > </p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">area</span> :: <span class="param-type"><a href="Concepts.html#BoundingBox">BoundingBox</a></span>:  Where to search. If not given all entities on the surface are returned.</div></div></div><div class="example"><div class="example-header">Example</div>
   Will evaluate to a list of all entities within given area.
   <div class="block-code-container"><code class="block">game.surfaces["nauvis"].find_entities({{-10,&nbsp;-10},&nbsp;{10,&nbsp;10}})</code></div>
 </div></div></div>
<div class="element" id="LuaSurface.find_entities_filtered"><div class="element-header"><span class="element-name">find_entities_filtered{area=&hellip;, position=&hellip;, name=&hellip;, type=&hellip;, force=&hellip;, limit=&hellip;} &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></span></div><div class="element-content"><p > Find entities of given type or name in a given area.</p><p > If no filters (<code >name</code>, <code >type</code>, or <code >force</code>) are given, returns all entities in the search area.
 If multiple filters are specified, returns only entities matching all given filters.</p><p > </p><p >
 </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">area</span> :: <span class="param-type"><a href="Concepts.html#BoundingBox">BoundingBox</a></span> <span class="opt"> (optional)</span>:  Search area if not defined and position is not defined the entire surface is searched</li><li ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span> <span class="opt"> (optional)</span>:  Search position if not defined and area is not defined the entire surface is searched</li><li ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> <span class="opt"> (optional)</span></li><li ><span class="param-name">type</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> <span class="opt"> (optional)</span></li><li ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span> <span class="opt"> (optional)</span></li><li ><span class="param-name">limit</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span> <span class="opt"> (optional)</span></li></ul></div></div></div><div class="example"><div class="example-header">Example</div>
   <div class="block-code-container"><code class="block">   game.surfaces[1].find_entities_filtered{area&nbsp;=&nbsp;{{-10,&nbsp;-10},&nbsp;{10,&nbsp;10}},&nbsp;type=&nbsp;"resource"}&nbsp;--&nbsp;gets&nbsp;all&nbsp;resources&nbsp;in&nbsp;the&nbsp;rectangle<br/>
   game.surfaces[1].find_entities_filtered{area&nbsp;=&nbsp;{{-10,&nbsp;-10},&nbsp;{10,&nbsp;10}},&nbsp;name=&nbsp;"iron-ore"}&nbsp;--&nbsp;gets&nbsp;all&nbsp;iron&nbsp;ores&nbsp;in&nbsp;the&nbsp;rectangle<br/>
   game.surfaces[1].find_entities_filtered{area&nbsp;=&nbsp;{{-10,&nbsp;-10},&nbsp;{10,&nbsp;10}},&nbsp;force=&nbsp;"player"}&nbsp;&nbsp;--&nbsp;gets&nbsp;player&nbsp;owned&nbsp;entities&nbsp;in&nbsp;the&nbsp;rectangle<br/>
   game.surfaces[1].find_entities_filtered{area&nbsp;=&nbsp;{{-10,&nbsp;-10},&nbsp;{10,&nbsp;10}},&nbsp;limit=&nbsp;5}&nbsp;&nbsp;--&nbsp;gets&nbsp;the&nbsp;first&nbsp;5&nbsp;entities&nbsp;in&nbsp;the&nbsp;rectangle</code></div>
 </div></div></div>
<div class="element" id="LuaSurface.count_entities_filtered"><div class="element-header"><span class="element-name">count_entities_filtered{area=&hellip;, position=&hellip;, name=&hellip;, type=&hellip;, force=&hellip;, limit=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></div><div class="element-content"><p > Count entities of given type or name in a given area. Works just like
 <a href="LuaSurface.html#LuaSurface.find_entities_filtered">LuaSurface::find_entities_filtered</a>, except this only returns the count. As it doesn&#x27;t
 construct all the wrapper objects, this is more efficient if one is only interested in the
 number of entities.</p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">area</span> :: <span class="param-type"><a href="Concepts.html#BoundingBox">BoundingBox</a></span> <span class="opt"> (optional)</span>:  Search area if not defined and position is not defined the entire surface is searched</li><li ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span> <span class="opt"> (optional)</span>:  Search position if not defined and area is not defined the entire surface is searched</li><li ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> <span class="opt"> (optional)</span></li><li ><span class="param-name">type</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> <span class="opt"> (optional)</span></li><li ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span> <span class="opt"> (optional)</span></li><li ><span class="param-name">limit</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span> <span class="opt"> (optional)</span></li></ul></div></div></div></div></div>
<div class="element" id="LuaSurface.find_non_colliding_position"><div class="element-header"><span class="element-name">find_non_colliding_position(name, center, radius, precision) &rarr; <span class="return-type"><span class="param-type"><a href="Concepts.html#Position">Position</a></span></span></span></div><div class="element-content"><p > Find a non-colliding possition within a given rectangle.</p><p > </p><p > </p><p > </p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  Prototype name of the entity to find a position for. (The bounding
   box for the collision checking is taken from this prototype.)</div><div ><span class="param-name">center</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Center of the search area.</div><div ><span class="param-name">radius</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span>:  Max distance from <code >center</code> to search in. <code >0</code> for infinitely-large
   search area.</div><div ><span class="param-name">precision</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span>:  The step length from the given position as it searches, in tiles.</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> The non-colliding position. May be <code >nil</code> if no suitable position was found.</div></div></div></div>
<div class="element" id="LuaSurface.spill_item_stack"><div class="element-header"><span class="element-name">spill_item_stack(position, items, enable_looted)</span></div><div class="element-content"><p > Spill items on the ground centered at a given location.</p><p > </p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Center of the spillage</div><div ><span class="param-name">items</span> :: <span class="param-type"><span class="param-type"><a href="LuaItemStack.html">LuaItemStack</a></span> or <span class="param-type"><a href="Concepts.html#SimpleItemStack">SimpleItemStack</a></span></span>:  Items to spill</div><div ><span class="param-name">enable_looted</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span> <span class="opt"> (optional)</span>:  When true, each created item will be flagged with the <a href="LuaEntity.html#LuaEntity.to_be_looted">LuaEntity::to_be_looted</a> flag.</div></div></div></div></div>
<div class="element" id="LuaSurface.find_enemy_units"><div class="element-header"><span class="element-name">find_enemy_units(center, radius, force) &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></span></div><div class="element-content"><p > Find units enemy of a given force within an area.</p><p > </p><p > </p><p > </p><p >
 </p><p >
 </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">center</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Center of the search area</div><div ><span class="param-name">radius</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span>:  Radius of the circular search area</div><div ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="LuaForce.html">LuaForce</a></span> or <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span> <span class="opt"> (optional)</span>:  Force to find enemies of. If not given,
   uses the player force.</div></div></div><div class="notes"><div class="note"><strong >Note: </strong> This is more efficient than <a href="LuaSurface.html#LuaSurface.find_entities">LuaSurface::find_entities</a>.</div></div><div class="example"><div class="example-header">Example</div>
   Find all entities who would be interested to attack the player, within 100-tile area.
   <div class="block-code-container"><code class="block">   local&nbsp;enemies&nbsp;=&nbsp;game.player.surface.find_enemy_units(game.player.character.position,&nbsp;100)</code></div>
 </div></div></div>
<div class="element" id="LuaSurface.find_nearest_enemy"><div class="element-header"><span class="element-name">find_nearest_enemy{position=&hellip;, max_distance=&hellip;, force=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></div><div class="element-content"><p > Find the enemy closest to the given position.</p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Center of the search area.</li><li ><span class="param-name">max_distance</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span>:  Radius of the circular search area.</li><li ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span> <span class="opt"> (optional)</span>:  The force the result will be an enemy of.
     Uses the player force if not specified.</li></ul></div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> The nearest enemy unit or <code >nil</code> if no enemy could be found within the
   given area.</div></div></div></div>
<div class="element" id="LuaSurface.set_multi_command"><div class="element-header"><span class="element-name">set_multi_command{command=&hellip;, unit_count=&hellip;, force=&hellip;, unit_search_distance=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span></span></div><div class="element-content"><p > Give a command to multiple units. This will automatically select suitable units for the
 task.</p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">command</span> :: <span class="param-type"><a href="Concepts.html#Command">Command</a></span></li><li ><span class="param-name">unit_count</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:  Number of units to give the command to.</li><li ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span> <span class="opt"> (optional)</span>:  Force of the units this command is to be given to.
     If not specified, uses the enemy force.</li><li ><span class="param-name">unit_search_distance</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span> <span class="opt"> (optional)</span>:  Radius to search for units. The search area is centered on
     the destination of the command.</li></ul></div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> Number of units actually sent. May be less than <code >count</code> if not enough units were
   available.</div></div></div></div>
<div class="element" id="LuaSurface.create_entity"><div class="element-header"><span class="element-name">create_entity{name=&hellip;, position=&hellip;, direction=&hellip;, force=&hellip;, target=&hellip;, source=&hellip;, fast_replace=&hellip;, player=&hellip;, spill=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span></span></span></div><div class="element-content"><p > Create an entity on this surface.</p><p > </p><p >
 </p><p >
 </p><p > </p><p > </p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  The entity prototype name to create.</li><li ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Where to create the entity.</li><li ><span class="param-name">direction</span> :: <span class="param-type"><a href="defines.html#defines.direction">defines.direction</a></span> <span class="opt"> (optional)</span>:  Desired orientation of the entity after creation.</li><li ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span> <span class="opt"> (optional)</span>:  Force of the entity, default is enemy.</li><li ><span class="param-name">target</span> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span> <span class="opt"> (optional)</span>:  Entity with health for the new entity to target.</li><li ><span class="param-name">source</span> :: <span class="param-type"><a href="LuaEntity.html">LuaEntity</a></span> <span class="opt"> (optional)</span>:  Source entity. Used for beams.</li><li ><span class="param-name">fast_replace</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span> <span class="opt"> (optional)</span>:  If true, building will attempt to simulate fast-replace building.</li><li ><span class="param-name">player</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaPlayer.html">LuaPlayer</a></span> or <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span> <span class="opt"> (optional)</span>:  If given along with fast_replace being true, fast-replace will simulate using this player.</li><li ><span class="param-name">spill</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span> <span class="opt"> (optional)</span>:  If false while fast_replace is true any excess items from fast-replacing will be deleted instead of dropped on the ground.</li><li >Additional entity-specific parameters<ul ><li >assembling-machine<ul class="field-list"><li ><span class="param-name">recipe</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> <span class="opt"> (optional)</span></li></ul></li><li >container<ul class="field-list"><li ><span class="param-name">bar</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span> <span class="opt"> (optional)</span>:  Inventory index where the red limiting bar should be set.</li></ul></li><li >flying-text<ul class="field-list"><li ><span class="param-name">text</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  The string to show.</li><li ><span class="param-name">color</span> :: <span class="param-type"><a href="Concepts.html#Color">Color</a></span>:  Color of the displayed text.</li></ul></li><li >entity-ghost<ul class="field-list"><li ><span class="param-name">inner_name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span>:  The prototype name of the entity contained in the ghost.</li></ul></li><li >inserter<ul class="field-list"><li ><span class="param-name">conditions</span>:  Table with the following fields: <ul class="field-list"><li ><span class="param-name">circuit</span> :: <span class="param-type"><a href="Concepts.html#CircuitCondition">CircuitCondition</a></span> <span class="opt"> (optional)</span></li><li ><span class="param-name">logistics</span> :: <span class="param-type"><a href="Concepts.html#CircuitCondition">CircuitCondition</a></span> <span class="opt"> (optional)</span></li></ul></li><li ><span class="param-name">filters</span> :: <span class="param-type">array of <span class="param-type"><a href="Concepts.html#Filter">Filter</a></span></span></li></ul></li><li >item-entity<ul class="field-list"><li ><span class="param-name">stack</span> :: <span class="param-type"><a href="Concepts.html#SimpleItemStack">SimpleItemStack</a></span>:  The stack of items to create. This must be a table, i.e. a single string
                                      is not allowed here.</li></ul></li><li >logistic-container<ul class="field-list"><li ><span class="param-name">request_filters</span> :: <span class="param-type">array of <span class="param-type"><a href="Concepts.html#Filter">Filter</a></span></span> <span class="opt"> (optional)</span></li></ul></li><li >particle<ul class="field-list"><li ><span class="param-name">movement</span> :: <span class="param-type"><a href="Concepts.html#Vector">Vector</a></span></li><li ><span class="param-name">height</span> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></li><li ><span class="param-name">vertical_speed</span> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></li><li ><span class="param-name">frame_speed</span> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></li></ul></li><li >projectile<ul class="field-list"><li ><span class="param-name">speed</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span></li></ul></li><li >resource<ul class="field-list"><li ><span class="param-name">amount</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></li></ul></li><li >underground-belt<ul class="field-list"><li ><span class="param-name">type</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span> <span class="opt"> (optional)</span>:  <code >"output"</code> or <code >"input"</code>; default is <code >"input"</code>.</li></ul></li></ul></li></ul></div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> The created entity or <code >nil</code> if the creation failed.</div></div><div class="example"><div class="example-header">Example</div>
   <div class="block-code-container"><code class="block">asm&nbsp;=&nbsp;game.surfaces[1].create_entity{name&nbsp;=&nbsp;"assembling-machine-1",&nbsp;position&nbsp;=&nbsp;{15,&nbsp;3},&nbsp;force=game.forces.player,&nbsp;recipe&nbsp;=&nbsp;"iron-stick"}</code></div>
 </div><div class="example"><div class="example-header">Example</div>
   Creates a smart inserter with circuit conditions and a filter
   <div class="block-code-container"><code class="block">   game.surfaces[1].create_entity{<br/>
   &nbsp;&nbsp;name&nbsp;=&nbsp;"filter-inserter",&nbsp;position&nbsp;=&nbsp;{20,&nbsp;15},&nbsp;force=game.player.force,<br/>
   &nbsp;&nbsp;conditions={red={name="wood",&nbsp;count=3,&nbsp;operator=">"},<br/>
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;green={name="iron-ore",&nbsp;count=1,&nbsp;operator="<"},<br/>
   &nbsp;&nbsp;logistics={name="wood",&nbsp;count=3,&nbsp;operator="="}},<br/>
   &nbsp;&nbsp;filters={&nbsp;{index=1,&nbsp;name="iron-ore"}&nbsp;}<br/>
   }</code></div>
 </div><div class="example"><div class="example-header">Example</div>
   Creates a requester chest already set to request 128 iron plates.
   <div class="block-code-container"><code class="block">   game.surfaces[1].create_entity{<br/>
   &nbsp;&nbsp;name&nbsp;=&nbsp;"logistic-chest-requester",&nbsp;position&nbsp;=&nbsp;{game.player.position.x+3,&nbsp;game.player.position.y},<br/>
   &nbsp;&nbsp;force=game.player.force,&nbsp;request_filters={&nbsp;{index=1,&nbsp;name="iron-plate",&nbsp;count=128}&nbsp;}<br/>
   }</code></div>
 </div><div class="example"><div class="example-header">Example</div>
   <div class="block-code-container"><code class="block">   game.surfaces[1].create_entity{name&nbsp;=&nbsp;"big-biter",&nbsp;position=&nbsp;{15,&nbsp;3},&nbsp;force&nbsp;=&nbsp;game.forces.player}&nbsp;--&nbsp;Friendly&nbsp;biter<br/>
   game.surfaces[1].create_entity{name&nbsp;=&nbsp;"medium-biter",&nbsp;position=&nbsp;{15,&nbsp;3},&nbsp;force&nbsp;=&nbsp;game.forces.enemy}&nbsp;--&nbsp;Enemy&nbsp;biter</code></div>
 </div><div class="example"><div class="example-header">Example</div>
   Creates a basic inserter at the player&#x27;s location facing north
   <div class="block-code-container"><code class="block">   game.surfaces[1].create_entity{name&nbsp;=&nbsp;"inserter",&nbsp;position&nbsp;=&nbsp;game.player.position,&nbsp;direction&nbsp;=&nbsp;defines.direction.north}</code></div>
 </div></div></div>
<div class="element" id="LuaSurface.create_unit_group"><div class="element-header"><span class="element-name">create_unit_group{position=&hellip;, force=&hellip;} &rarr; <span class="return-type"><span class="param-type"><a href="LuaUnitGroup.html">LuaUnitGroup</a></span></span></span></div><div class="element-content"><p > Create a new unit group at a given position.</p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Initial position of the new unit group.</li><li ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span> <span class="opt"> (optional)</span>:  Force of the new unit group. Defaults to <code >"enemy"</code>.</li></ul></div></div></div></div></div>
<div class="element" id="LuaSurface.build_enemy_base"><div class="element-header"><span class="element-name">build_enemy_base(position, unit_count, force)</span></div><div class="element-content"><p > Send a group to build a new base.</p><p > </p><p > </p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Location of the new base.</div><div ><span class="param-name">unit_count</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:  Number of biters to send for the base-building task.</div><div ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span> <span class="opt"> (optional)</span>:  Force the new base will belong to. Defaults to enemy.</div></div></div><div class="notes"><div class="note"><strong >Note: </strong> The specified force must be AI-controlled; i.e. <code >force.ai_controllable</code> must be <code >true</code>.</div></div></div></div>
<div class="element" id="LuaSurface.get_tile"><div class="element-header"><span class="element-name">get_tile(x, y) &rarr; <span class="return-type"><span class="param-type"><a href="LuaTile.html">LuaTile</a></span></span></span></div><div class="element-content"><p > Get the tile at a given position.</p><p > </p><p > </p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">x</span> :: <span class="param-type"><a href="Builtin-Types.html#int">int</a></span></div><div ><span class="param-name">y</span> :: <span class="param-type"><a href="Builtin-Types.html#int">int</a></span></div></div></div><div class="notes"><div class="note"><strong >Note: </strong> The input position params can also be a single tile position.</div></div></div></div>
<div class="element" id="LuaSurface.get_tileproperties"><div class="element-header"><span class="element-name">get_tileproperties(x, y) &rarr; <span class="return-type"><span class="param-type"><a href="Concepts.html#TileProperties">TileProperties</a></span></span></span></div><div class="element-content"><p > Get tile properties.</p><p > </p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">x</span> :: <span class="param-type"><a href="Builtin-Types.html#int">int</a></span></div><div ><span class="param-name">y</span> :: <span class="param-type"><a href="Builtin-Types.html#int">int</a></span></div></div></div></div></div>
<div class="element" id="LuaSurface.set_tiles"><div class="element-header"><span class="element-name">set_tiles(tiles, correct_tiles)</span></div><div class="element-content"><p > Set tiles at specified locations. Automatically corrects the edges around modified tiles.</p><p > </p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">tiles</span> :: <span class="param-type">array of <span class="param-type">Tile</span></span>:  Each Tile is a table: <ul class="field-list"><li ><span class="param-name">name</span> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></li><li ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span></li></ul></div><div ><span class="param-name">correct_tiles</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span> <span class="opt"> (optional)</span>:  If <code >false</code>, the correction logic is not done on the changed tiles.
                                           Defaults to <code >true</code>.</div></div></div><div class="notes"><div class="note"><strong >Note: </strong> It is recommended to call this method once for all the tiles you want to change rather
       than calling it individually for every tile. As the tile correction is used after every
       step, calling it one by one could cause the tile correction logic to redo some of the
       changes, and it is also much performance heavy.</div></div></div></div>
<div class="element" id="LuaSurface.pollute"><div class="element-header"><span class="element-name">pollute(source, amount)</span></div><div class="element-content"><p > Spawn pollution at the given position.</p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">source</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Where to spawn the pollution.</div><div ><span class="param-name">amount</span> :: <span class="param-type"><a href="Builtin-Types.html#double">double</a></span>:  How much pollution to add.</div></div></div></div></div>
<div class="element" id="LuaSurface.get_chunks"><div class="element-header"><span class="element-name">get_chunks() &rarr; <span class="return-type"><span class="param-type"><a href="LuaChunkIterator.html">LuaChunkIterator</a></span></span></span></div><div class="element-content"><p > Get an iterator going over every chunk on this surface.</p><p > </p></div></div>
<div class="element" id="LuaSurface.is_chunk_generated"><div class="element-header"><span class="element-name">is_chunk_generated(position) &rarr; <span class="return-type"><span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span></span></div><div class="element-content"><p > Is a given chunk generated?</p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#ChunkPosition">ChunkPosition</a></span>:  The chunk&#x27;s position.</div></div></div></div></div>
<div class="element" id="LuaSurface.request_to_generate_chunks"><div class="element-header"><span class="element-name">request_to_generate_chunks(position, radius)</span></div><div class="element-content"><p > Request that the game&#x27;s map generator generate chunks at the given position
 for the given radius on this surface.</p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  Where to generate the new chunks.</div><div ><span class="param-name">radius</span> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span>:  Radius from <code >position</code> to generate new chunks in.</div></div></div></div></div>
<div class="element" id="LuaSurface.set_chunk_generated_status"><div class="element-header"><span class="element-name">set_chunk_generated_status(position, status)</span></div><div class="element-content"><p > Set generated status of a chunk. Useful when copying chunks.</p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  The chunk&#x27;s position.</div><div ><span class="param-name">status</span> :: <span class="param-type"><a href="defines.html#defines.chunk_generated_status">defines.chunk_generated_status</a></span>:  The chunk&#x27;s new status.</div></div></div></div></div>
<div class="element" id="LuaSurface.find_logistic_network_by_position"><div class="element-header"><span class="element-name">find_logistic_network_by_position(position, force) &rarr; <span class="return-type"><span class="param-type"><a href="LuaLogisticNetwork.html">LuaLogisticNetwork</a></span></span></span></div><div class="element-content"><p > Find the logistic network that covers a given position.</p><p > </p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span></div><div ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span>:  Force the logistic network should belong to.</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> The found network or <code >nil</code> if no such network was found.</div></div></div></div>
<div class="element" id="LuaSurface.freeze_daytime"><div class="element-header"><span class="element-name">freeze_daytime(freeze)</span></div><div class="element-content"><p > Freeze or unfreeze time of day at the current value.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">freeze</span> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></div></div></div></div></div>
<div class="element" id="LuaSurface.deconstruct_area"><div class="element-header"><span class="element-name">deconstruct_area{area=&hellip;, force=&hellip;}</span></div><div class="element-content"><p > Place a deconstruction request.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">area</span> :: <span class="param-type"><a href="Concepts.html#BoundingBox">BoundingBox</a></span>:  The area to mark for deconstruction</li><li ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span>:  The force whose bots should perform the deconstruction.</li></ul></div></div></div></div></div>
<div class="element" id="LuaSurface.cancel_deconstruct_area"><div class="element-header"><span class="element-name">cancel_deconstruct_area{area=&hellip;, force=&hellip;}</span></div><div class="element-content"><p > Cancel a deconstruction order.
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div > Table with the following fields: <ul class="field-list"><li ><span class="param-name">area</span> :: <span class="param-type"><a href="Concepts.html#BoundingBox">BoundingBox</a></span>:  The are to cancel deconstruction orders in.</li><li ><span class="param-name">force</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type"><a href="LuaForce.html">LuaForce</a></span></span>:  The force whose deconstruction orders to cancel.</li></ul></div></div></div></div></div>
<div class="element" id="LuaSurface.get_hidden_tile"><div class="element-header"><span class="element-name">get_hidden_tile(position)</span></div><div class="element-content"><p > </p><p > </p><p > The hidden tile name or <code >nil</code> if there isn&#x27;t one for the given position.
</p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  The tile position.</div></div></div></div></div>
<div class="element" id="LuaSurface.get_connected_tiles"><div class="element-header"><span class="element-name">get_connected_tiles(position, tiles) &rarr; <span class="return-type"><span class="param-type">array of <span class="param-type"><a href="Concepts.html#Position">Position</a></span></span></span></span></div><div class="element-content"><p > Gets all tiles of the given types that are connected horizontally or vertically to the given tile position including the given tile position.
 </p><p > </p><p > </p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">position</span> :: <span class="param-type"><a href="Concepts.html#Position">Position</a></span>:  The tile position to start at.</div><div ><span class="param-name">tiles</span> :: <span class="param-type">array of <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span>:  The tiles to search for.</div></div></div><div class="detail"><div class="detail-header">Return value</div><div class="detail-content"> The resulting set of tiles.</div></div><div class="notes"><div class="note"><strong >Note: </strong> This won&#x27;t find tiles in non-generated chunks.</div></div></div></div>
<div class="element" id="LuaSurface.regenerate_entity"><div class="element-header"><span class="element-name">regenerate_entity(entitites)</span></div><div class="element-content"><p > Regenerate autoplacement of some entities on this surface. This can be used to autoplace newly-added entities.</p><p > </p><p >
 </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">entitites</span> :: <span class="param-type"><span class="param-type"><a href="Builtin-Types.html#string">string</a></span> or <span class="param-type">array of <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span></span>: 
   Prototype names of entity or entities to autoplace.</div></div></div><div class="notes"><div class="note"><strong >Note: </strong> All specified entity prototypes must be autoplacable.</div></div></div></div>
<div class="element" id="LuaSurface.print"><div class="element-header"><span class="element-name">print(message)</span></div><div class="element-content"><p > Print text to the chat console of all players on this surface.</p><p > </p><div class="detail"><div class="detail-header">Parameters</div><div class="detail-content"><div ><span class="param-name">message</span> :: <span class="param-type"><a href="Concepts.html#LocalisedString">LocalisedString</a></span></div></div></div></div></div><div class="element" id="LuaSurface.name"><div class="element-header"><span class="element-name">name</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#string">string</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > The name of this surface. Names are unique among surfaces.
</p></div></div>
<div class="element" id="LuaSurface.index"><div class="element-header"><span class="element-name">index</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#uint">uint</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > Unique ID associated with this surface.
</p></div></div>
<div class="element" id="LuaSurface.map_gen_settings"><div class="element-header"><span class="element-name">map_gen_settings</span><span class="attribute-type"> :: <span class="param-type"><a href="Concepts.html#MapGenSettings">MapGenSettings</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > Gets the generation settings for the surface.
 </p></div></div>
<div class="element" id="LuaSurface.always_day"><div class="element-header"><span class="element-name">always_day</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > When set to true, the sun will always shine.
 </p></div></div>
<div class="element" id="LuaSurface.daytime"><div class="element-header"><span class="element-name">daytime</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > </p><p > Current time of day, as a number in range [0, 1).
</p></div></div>
<div class="element" id="LuaSurface.darkness"><div class="element-header"><span class="element-name">darkness</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [Read-only]</span></div><div class="element-content"><p > </p><p > Amount of darkness at the current time.
</p></div></div>
<div class="element" id="LuaSurface.wind_speed"><div class="element-header"><span class="element-name">wind_speed</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > </p><p > Current wind speed.
</p></div></div>
<div class="element" id="LuaSurface.wind_orientation"><div class="element-header"><span class="element-name">wind_orientation</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > </p><p > Current wind direction.
</p></div></div>
<div class="element" id="LuaSurface.wind_orientation_change"><div class="element-header"><span class="element-name">wind_orientation_change</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#float">float</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > </p><p > Change in wind orientation per tick.
</p></div></div>
<div class="element" id="LuaSurface.peaceful_mode"><div class="element-header"><span class="element-name">peaceful_mode</span><span class="attribute-type"> :: <span class="param-type"><a href="Builtin-Types.html#boolean">boolean</a></span></span><span class="attribute-mode"> [Read-Write]</span></div><div class="element-content"><p > </p><p > Is peaceful mode enabled on this surface?
</p></div></div></div></body></html>